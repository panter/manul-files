{"version":3,"sources":["../src/init_server.js"],"names":["Slingshot","Directives","bucket","acl","region","AWSAccessKeyId","process","env","AWS_ACCESS_KEY_ID","AWSSecretAccessKey","AWS_SECRET_ACCESS_KEY","forEach","name","server","createDirective","S3Storage"],"mappings":";;;;;;;;;;;;;;AACA;;;;;;kBAGe,gBAMT;AAAA,MANYA,SAMZ,QANYA,SAMZ;AAAA,MANuBC,UAMvB,QANuBA,UAMvB;AAAA,yBALJC,MAKI;AAAA,MALJA,MAKI,+BALK,YAKL;AAAA,sBAJJC,GAII;AAAA,MAJJA,GAII,4BAJE,aAIF;AAAA,yBAHJC,MAGI;AAAA,MAHJA,MAGI,+BAHK,cAGL;AAAA,iCAFJC,cAEI;AAAA,MAFJA,cAEI,uCAFaC,QAAQC,GAAR,CAAYC,iBAAZ,IAAiC,EAE9C;AAAA,mCADJC,kBACI;AAAA,MADJA,kBACI,yCADiBH,QAAQC,GAAR,CAAYG,qBAAZ,IAAqC,EACtD;;AACJ,wCAAqB,EAAEV,oBAAF,EAAaC,sBAAb,EAArB;AACA;;AAEA,sBAAOA,UAAP,EAAmBU,OAAnB,CAA2B,UAACC,IAAD,EAAU;AAAA,QAC3BC,MAD2B,GAChBZ,WAAWW,IAAX,CADgB,CAC3BC,MAD2B;;AAEnCb,cAAUc,eAAV,CAA0BF,IAA1B,EAAgCZ,UAAUe,SAA1C;AACEb,oBADF;AAEEC,cAFF;AAGEC,oBAHF;AAIEC,oCAJF;AAKEI;AALF,OAMKI,MANL;AAQD,GAVD;AAWD,C","file":"init_server.js","sourcesContent":["import _ from 'lodash';\nimport initUploadDirectives from './init_upload_directives';\n\n\nexport default ({ Slingshot, Directives,\n  bucket = 'aws-bucket',\n  acl = 'public-read',\n  region = 'eu-central-1',\n  AWSAccessKeyId = process.env.AWS_ACCESS_KEY_ID || '',\n  AWSSecretAccessKey = process.env.AWS_SECRET_ACCESS_KEY || '',\n}) => {\n  initUploadDirectives({ Slingshot, Directives });\n  // init server Directives\n\n  _.keys(Directives).forEach((name) => {\n    const { server } = Directives[name];\n    Slingshot.createDirective(name, Slingshot.S3Storage, {\n      bucket,\n      acl,\n      region,\n      AWSAccessKeyId,\n      AWSSecretAccessKey,\n      ...server,\n    });\n  });\n};\n"]}