{"version":3,"sources":["../src/init_server.js"],"names":[],"mappings":";;;;;;;;;;sBAAc,QAAQ;;;;sCACW,0BAA0B;;;;qBAG5C,UAAC,IAMf,EAAK;MANY,SAAS,GAAX,IAMf,CANiB,SAAS;MAAE,UAAU,GAAvB,IAMf,CAN4B,UAAU;oBAAvB,IAMf,CALC,MAAM;MAAN,MAAM,+BAAG,YAAY;iBADP,IAMf,CAJC,GAAG;MAAH,GAAG,4BAAG,aAAa;oBAFL,IAMf,CAHC,MAAM;MAAN,MAAM,+BAAG,cAAc;4BAHT,IAMf,CAFC,cAAc;MAAd,cAAc,uCAAG,OAAO,CAAC,GAAG,CAAC,iBAAiB,IAAI,EAAE;gCAJtC,IAMf,CADC,kBAAkB;MAAlB,kBAAkB,2CAAG,OAAO,CAAC,GAAG,CAAC,qBAAqB,IAAI,EAAE;;AAE5D,2CAAqB,EAAE,SAAS,EAAT,SAAS,EAAE,UAAU,EAAV,UAAU,EAAE,CAAC,CAAC;;;AAGhD,sBAAE,IAAI,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,UAAC,IAAI,EAAK;QAC3B,MAAM,GAAK,UAAU,CAAC,IAAI,CAAC,CAA3B,MAAM;;AACd,aAAS,CAAC,eAAe,CAAC,IAAI,EAAE,SAAS,CAAC,SAAS;AACjD,YAAM,EAAN,MAAM;AACN,SAAG,EAAH,GAAG;AACH,YAAM,EAAN,MAAM;AACN,oBAAc,EAAd,cAAc;AACd,wBAAkB,EAAlB,kBAAkB;OACf,MAAM,EACT,CAAC;GACJ,CAAC,CAAC;CACJ","file":"init_server.js","sourcesContent":["import _ from 'lodash';\nimport initUploadDirectives from './init_upload_directives';\n\n\nexport default ({ Slingshot, Directives,\n  bucket = 'aws-bucket',\n  acl = 'public-read',\n  region = 'eu-central-1',\n  AWSAccessKeyId = process.env.AWS_ACCESS_KEY_ID || '',\n  AWSSecretAccessKey = process.env.AWS_SECRET_ACCESS_KEY || '',\n}) => {\n  initUploadDirectives({ Slingshot, Directives });\n  // init server Directives\n\n  _.keys(Directives).forEach((name) => {\n    const { server } = Directives[name];\n    Slingshot.createDirective(name, Slingshot.S3Storage, {\n      bucket,\n      acl,\n      region,\n      AWSAccessKeyId,\n      AWSSecretAccessKey,\n      ...server,\n    });\n  });\n};\n"]}